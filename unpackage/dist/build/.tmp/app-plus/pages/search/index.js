(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/index"],{"021c":function(t,e,i){"use strict";i.r(e);var n=i("556c"),a=i("0aeb");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("74c3");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"0363":function(t,e,i){},"0539":function(t,e,i){},"0763":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(i("a909")),a=o(i("86b1")),s=o(i("021c"));function o(t){return t&&t.__esModule?t:{default:t}}var r={data:function(){return{defaultKeyword:"请输入关键字",keyword:"",oldKeywordList:[],hotKeywordList:[],keywordList:[],forbid:"",isShowKeywordList:!1,isShow:!1,moduleid:21}},onLoad:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},onShow:function(t){new plus.nativeObj.View("test",{top:"0px",left:"0px",height:"49px",width:"100%",backgroundColor:"#3A3A3A",statusbar:{background:"#333333"}},[{tag:"rect",id:"rect",color:"#FF0000",position:{top:"12px",left:"12px",width:"24px",height:"24px"}},{tag:"font",id:"font",text:"原生控件",textStyles:{size:"18px"}}])},components:{mSearch:n.default,uniNavBar:a.default,uniDrawer:s.default},onNavigationBarButtonTap:function(e){0==e.index&&(this.isShow=!0),1==e.index&&t.switchTab({url:"/pages/index/index"})},onNavigationBarSearchInputConfirmed:function(t){},onNavigationBarSearchInputChanged:function(t){},props:{titleText:{type:String,default:""},statusColor:{type:String,default:"#8F8F94"},showLeftButton:{type:Boolean,default:!0},showRightButton:{type:Boolean,default:!1}},methods:{init:function(){this.loadDefaultKeyword(),this.loadOldKeyword(),this.loadHotKeyword()},blur:function(){t.hideKeyboard()},loadDefaultKeyword:function(){this.defaultKeyword="请输入关键字"},loadOldKeyword:function(){var e=this;t.getStorage({key:"OldKeys",success:function(t){var i=JSON.parse(t.data);e.oldKeywordList=i}})},loadHotKeyword:function(){var t=this;this.$Request.post(this.$api.home.getsearchdata,{}).then(function(e){"0000"==e.code&&(t.hotKeywordList=e.data)})},inputChange:function(e){var i=this,n=e.detail?e.detail.value:e;if(!n)return this.keywordList=[],void(this.isShowKeywordList=!1);this.isShowKeywordList=!0,t.request({url:"https://suggest.taobao.com/sug?code=utf-8&q="+n,success:function(t){i.keywordList=i.drawCorrelativeKeyword(t.data.result,n)}})},drawCorrelativeKeyword:function(t,e){for(var i=t.length,n=[],a=0;a<i;a++){var s=t[a],o=s[0].replace(e,"<span style='color: #fd4a5f;'>"+e+"</span>");o="<div>"+o+"</div>";var r={keyword:s[0],htmlStr:o};n.push(r)}return n},setkeyword:function(t){this.keyword=t.keyword},oldDelete:function(){var e=this;t.showModal({content:"确定清除历史搜索记录？",success:function(i){i.confirm?(e.oldKeywordList=[],t.removeStorage({key:"OldKeys"})):i.cancel}})},hotToggle:function(){this.forbid=this.forbid?"":"_forbid"},doSearch:function(e){e=e||(this.keyword?this.keyword:this.defaultKeyword),this.keyword=e,t.setStorageSync("cateKeywords",e),this.saveKeyword(e),t.setStorageSync("newsmoduleid",this.moduleid),t.navigateTo({url:"/pages/news/index?keywords="+encodeURIComponent(e)+"&moduleid="+this.moduleid})},saveKeyword:function(e){var i=this;t.getStorage({key:"OldKeys",success:function(n){var a=JSON.parse(n.data),s=a.indexOf(e);-1==s?a.unshift(e):(a.splice(s,1),a.unshift(e)),a.length>10&&a.pop(),t.setStorage({key:"OldKeys",data:JSON.stringify(a)}),i.oldKeywordList=a},fail:function(n){var a=[e];t.setStorage({key:"OldKeys",data:JSON.stringify(a)}),i.oldKeywordList=a}})}}};e.default=r}).call(this,i("649d")["default"])},"0a6f":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-status-bar",style:t.style},[t._t("default",null,{mpcomid:"f4a33636-0"})],2)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"0aeb":function(t,e,i){"use strict";i.r(e);var n=i("8e26"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"17c3":function(t,e,i){},2057:function(t,e,i){},"304c":function(t,e,i){"use strict";var n=i("6439"),a=i.n(n);a.a},"34fe":function(t,e,i){"use strict";i.r(e);var n=i("598e"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},3929:function(t,e,i){"use strict";i.r(e);var n=i("0a6f"),a=i("ce3b");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("caba");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"3cc9":function(t,e,i){"use strict";i.r(e);var n=i("bc94"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},"4c4b":function(t,e,i){"use strict";i.r(e);var n=i("fed9"),a=i("cd3f");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("8009");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"556c":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visibleSync?i("view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer,"uni-drawer--right":t.rightMode},attrs:{eventid:"ee664b76-1"},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),t.moveHandle(e)}}},[i("view",{staticClass:"uni-drawer__mask",attrs:{eventid:"ee664b76-0"},on:{tap:t.close}}),i("view",{staticClass:"uni-drawer__content"},[t._t("default",null,{mpcomid:"ee664b76-0"})],2)]):t._e()},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},"598e":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(i("3929")),a=s(i("6d17"));function s(t){return t&&t.__esModule?t:{default:t}}var o={components:{uniStatusBar:n.default,uniIcon:a.default},props:{title:{type:String,default:""},leftText:{type:String,default:""},rightText:{type:String,default:""},leftIcon:{type:String,default:""},rightIcon:{type:String,default:""},fixed:{type:[Boolean,String],default:!1},color:{type:String,default:"#000000"},backgroundColor:{type:String,default:"#FFFFFF"},statusBar:{type:[Boolean,String],default:""},shadow:{type:String,default:""}},computed:{isFixed:function(){return"true"===String(this.fixed)},insertStatusBar:function(){switch(String(this.statusBar)){case"true":return!0;case"false":return!1;default:return this.isFixed}},hasShadow:function(){var t=this.backgroundColor;switch(String(this.shadow)){case"true":return!0;case"false":return!1;default:return"transparent"!==t&&t.indexOf("rgba")<0}}},methods:{onClickLeft:function(){this.$emit("clickLeft"),this.$emit("click-left")},onClickRight:function(){this.$emit("clickRight"),this.$emit("click-right")}}};e.default=o},6439:function(t,e,i){},"74c3":function(t,e,i){"use strict";var n=i("17c3"),a=i.n(n);a.a},8009:function(t,e,i){"use strict";var n=i("2057"),a=i.n(n);a.a},8242:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={computed:{style:function(){return""}}};e.default=n},"86b1":function(t,e,i){"use strict";i.r(e);var n=i("c58a"),a=i("34fe");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("c9f4");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"86b6":function(t,e,i){"use strict";i("2cda");var n=s(i("b0ce")),a=s(i("4c4b"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(a.default))},"8e26":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"uni-drawer",props:{visible:{type:Boolean,default:!1},mode:String,mask:{type:[Boolean,String],default:!0}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1,closeTimer:null,watchTimer:null}},watch:{visible:function(t){var e=this;clearTimeout(this.watchTimer),setTimeout(function(){e.showDrawer=t},100),this.visibleSync&&clearTimeout(this.closeTimer),t?this.visibleSync=t:this.watchTimer=setTimeout(function(){e.visibleSync=t},300)}},computed:{showMask:function(){return"true"===String(this.mask)}},created:function(){var t=this;this.visibleSync=this.visible,setTimeout(function(){t.showDrawer=t.visible},100),this.rightMode="right"===this.mode},methods:{close:function(){var t=this;this.showDrawer=!1,this.$emit("close"),this.closeTimer=setTimeout(function(){t.visibleSync=!1},200)},moveHandle:function(){}}};e.default=n},9260:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"serach"},[i("view",{staticClass:"titleft"},[t._v("资讯"),i("uni-icon",{attrs:{type:"arrowdown",size:"24",mpcomid:"7d0b4426-0"}})],1),i("view",{staticClass:"content",style:{"border-radius":t.radius+"px"}},[i("view",{staticClass:"content-box",class:{centers:2===t.mode},attrs:{eventid:"7d0b4426-2"},on:{click:t.getFocus}},[i("text",{staticClass:"icon icon-serach"},[t._v("")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],staticClass:"input",class:{center:!t.active&&2===t.mode},attrs:{placeholder:t.placeholder,"confirm-type":"search",focus:t.isFocus,eventid:"7d0b4426-0"},domProps:{value:t.inputVal},on:{input:[function(e){e.target.composing||(t.inputVal=e.target.value)},t.inputChange],confirm:t.triggerConfirm,focus:t.focus,blur:t.blur}}),t.isDelShow?i("text",{staticClass:"icon icon-del",attrs:{eventid:"7d0b4426-1"},on:{click:function(e){e.stopPropagation(),t.clear(e)}}},[t._v("")]):t._e()])]),i("view",{directives:[{name:"show",rawName:"v-show",value:t.active&&t.show&&"inside"===t.button||t.isDelShow&&"inside"===t.button,expression:"(active&&show&&button === 'inside')||(isDelShow && button === 'inside')"}],staticClass:"serachBtn",attrs:{eventid:"7d0b4426-3"},on:{click:t.search}},[t._v("搜索")]),i("view",{directives:[{name:"show",rawName:"v-show",value:!t.isDelShow,expression:"!isDelShow"}],staticClass:"back serachBtn",attrs:{eventid:"7d0b4426-4"},on:{click:t.back}},[t._v("取消")]),"outside"===t.button?i("view",{staticClass:"button",class:{active:t.show||t.active},attrs:{eventid:"7d0b4426-5"},on:{click:t.search}},[i("view",{staticClass:"button-item"},[t._v(t._s(t.show?"搜索":t.searchName))])]):t._e()])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},a909:function(t,e,i){"use strict";i.r(e);var n=i("9260"),a=i("3cc9");for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);i("304c");var o=i("2877"),r=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"52f9b64b",null);e["default"]=r.exports},bc94:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("6d17"));function a(t){return t&&t.__esModule?t:{default:t}}var s={props:{mode:{value:Number,default:1},placeholder:{value:String,default:"请输入搜索内容"},value:{type:String,default:!1},button:{value:String,default:"outside"},show:{value:Boolean,default:!0},radius:{value:String,default:60}},components:{uniIcon:n.default},data:function(){return{active:!1,inputVal:"",searchName:"取消",isDelShow:!1,isFocus:!1}},methods:{triggerConfirm:function(){this.$emit("confirm",!1)},inputChange:function(t){var e=t.detail.value;this.$emit("input",e),this.inputVal&&(this.isDelShow=!0)},focus:function(){this.inputVal&&(this.isDelShow=!0)},back:function(){t.switchTab({url:"/pages/index/index"})},blur:function(){this.isFocus=!1,this.inputVal||(this.active=!1)},clear:function(){t.hideKeyboard(),this.isFocus=!1,this.inputVal="",this.active=!1,this.$emit("input","")},getFocus:function(){this.isFocus=!0},search:function(){if(!this.inputVal&&!this.show&&"取消"==this.searchName)return t.hideKeyboard(),this.isFocus=!1,void(this.active=!1);console.log(this.inputVal),this.$emit("search",this.inputVal?this.inputVal:this.placeholder)}},watch:{inputVal:function(t){t?this.searchName="搜索":(this.searchName="取消",this.isDelShow=!1)},value:function(t){this.inputVal=t}}};e.default=s}).call(this,i("649d")["default"])},c58a:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-navbar",class:{"uni-navbar-fixed":t.isFixed,"uni-navbar-shadow":t.hasShadow},style:{"background-color":t.backgroundColor}},[t.insertStatusBar?i("uni-status-bar",{attrs:{mpcomid:"b68030c2-0"}}):t._e(),i("view",{staticClass:"uni-navbar-header",style:{color:t.color}},[i("view",{staticClass:"uni-navbar-header-btns",attrs:{eventid:"b68030c2-0"},on:{tap:t.onClickLeft}},[t.leftIcon.length?i("view",[i("uni-icon",{attrs:{type:t.leftIcon,color:t.color,size:"24",mpcomid:"b68030c2-1"}})],1):t._e(),t.leftText.length?i("view",{staticClass:"uni-navbar-btn-text",class:{"uni-navbar-btn-icon-left":!t.leftIcon.length}},[t._v(t._s(t.leftText))]):t._e(),t._t("left",null,{mpcomid:"b68030c2-2"})],2),i("view",{staticClass:"uni-navbar-container"},[t.title.length?i("view",{staticClass:"uni-navbar-container-title"},[t._v(t._s(t.title))]):t._e(),t._t("default",null,{mpcomid:"b68030c2-3"})],2),i("view",{staticClass:"uni-navbar-header-btns",attrs:{eventid:"b68030c2-1"},on:{tap:t.onClickRight}},[t.rightIcon.length?i("view",[i("uni-icon",{attrs:{type:t.rightIcon,color:t.color,size:"24",mpcomid:"b68030c2-4"}})],1):t._e(),t.rightText.length&&!t.rightIcon.length?i("view",{staticClass:"uni-navbar-btn-text"},[t._v(t._s(t.rightText))]):t._e(),t._t("right",null,{mpcomid:"b68030c2-5"})],2)])],1)},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})},c9f4:function(t,e,i){"use strict";var n=i("0363"),a=i.n(n);a.a},caba:function(t,e,i){"use strict";var n=i("0539"),a=i.n(n);a.a},cd3f:function(t,e,i){"use strict";i.r(e);var n=i("0763"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},ce3b:function(t,e,i){"use strict";i.r(e);var n=i("8242"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=a.a},fed9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"content"},[i("view",{staticClass:"search-box"},[i("mSearch",{attrs:{mode:2,button:"inside",placeholder:t.defaultKeyword,eventid:"393f0425-0",mpcomid:"393f0425-0"},on:{search:function(e){t.doSearch(!1)},input:t.inputChange,confirm:function(e){t.doSearch(!1)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),i("view",{staticClass:"search-keyword",attrs:{eventid:"393f0425-7"},on:{touchstart:t.blur}},[i("scroll-view",{directives:[{name:"show",rawName:"v-show",value:t.isShowKeywordList,expression:"isShowKeywordList"}],staticClass:"keyword-list-box",attrs:{"scroll-y":""}},t._l(t.keywordList,function(e,n){return i("view",{key:e.keyword,staticClass:"keyword-entry",attrs:{"hover-class":"keyword-entry-tap"}},[i("view",{staticClass:"keyword-text",attrs:{eventid:"393f0425-1-"+n},on:{tap:function(i){t.doSearch(e.keyword)}}},[i("rich-text",{attrs:{nodes:e.htmlStr,mpcomid:"393f0425-1-"+n}})],1),i("view",{staticClass:"keyword-img",attrs:{eventid:"393f0425-2-"+n},on:{tap:function(i){t.setkeyword(e)}}},[i("image",{attrs:{src:"../../static/search/back.png"}})])])})),i("scroll-view",{directives:[{name:"show",rawName:"v-show",value:!t.isShowKeywordList,expression:"!isShowKeywordList"}],staticClass:"keyword-box",attrs:{"scroll-y":""}},[t.oldKeywordList.length>0?i("view",{staticClass:"keyword-block"},[i("view",{staticClass:"keyword-list-header"},[i("view",[t._v("历史搜索")]),i("view",[i("image",{attrs:{src:"../../static/search/delete.png",eventid:"393f0425-3"},on:{tap:t.oldDelete}})])]),i("view",{staticClass:"keyword"},t._l(t.oldKeywordList,function(e,n){return i("view",{key:e,attrs:{eventid:"393f0425-4-"+n},on:{tap:function(i){t.doSearch(e)}}},[t._v(t._s(e))])}))]):t._e(),i("view",{staticClass:"keyword-block"},[i("view",{staticClass:"keyword-list-header"},[i("view",[t._v("热门搜索")]),i("view",[i("image",{attrs:{src:"../../static/search/attention"+t.forbid+".png",eventid:"393f0425-5"},on:{tap:t.hotToggle}})])]),""==t.forbid?i("view",{staticClass:"keyword"},t._l(t.hotKeywordList,function(e,n){return i("view",{key:n,attrs:{eventid:"393f0425-6-"+n},on:{tap:function(i){t.doSearch(e.keyword)}}},[t._v(t._s(e.keyword))])})):i("view",{staticClass:"hide-hot-tis"},[i("view",[t._v("当前搜热门搜索已隐藏")])])])])],1)])},a=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return a})}},[["86b6","common/runtime","common/vendor"]]]);